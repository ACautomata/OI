# CSP 赛前模拟

2020年10月18日

难度介于CSP-J2 ... SCP_S2





























































## A. 纪念品分组（souvenir）

### 问题描述

元旦快到了，校学生会让乐乐负责新年晚会的纪念品发放工作。为使得参加晚会的同学所获得 的纪念品价值相对均衡，他要把购来的纪念品根据价格进行分组，但每组最多只能包括两件纪念品， 并且每组纪念品的价格之和不能超过一个给定的整数。为了保证在尽量短的时间内发完所有纪念品，乐乐希望分组的数目最少。

你的任务是写一个程序，找出所有分组方案中分组数最少的一种，输出最少的分组数目。

### 输入描述

共 $n+2$ 行：

第一行包括一个整数 $w$，为每组纪念品价格之和的上限。

第二行为一个整数 $n$，表示购来的纪念品的总件数 $G$。

第 $3\sim n+2$ 行每行包含一个正整数 $P_i$ 表示所对应纪念品的价格。

### 输出描述

一个整数，即最少的分组数目。

### 输入样例

```
100 
9 
90 
20 
20 
30 
50 
60 
70 
80 
90
```

### 输出样例

```
6
```

### 数据范围

$50％$ 的数据满足：$1≤n≤15$

$100％$ 的数据满足：$1≤n≤30000,80≤w≤200$



## B. 城市互通（city）

### 问题描述

有 $N$ 个城市编号为 $1\dots N$, 有 $M$ 条道路连接了其中的若干城市，道路编号为 $1 \dots M$, 其中第 $i$ 条道路连接了城市 $A_i$ 和 $B_i$。

Snuke 可以执行以下操作 $0$ 次或者若干次：

选择两个没有道路直接相连的城市，在其中修建一条道路。

Snuke 希望通过以上操作让任意两个城市之间互通。请问他最少要修建多少条道路才能实现目标？

### 输入描述

第 $1$ 行输入两个整数 $N$ 和 $M$;

第 $2\dots M+1$ 行每行输入两个整数 $A_i$ 和 $B_i$ 。

### 输出描述

输出问题答案。

### 输入样例

```
3 1
1 2
```

### 输出样例

```
1
```

### 样例说明

共有 $3$ 个城市，$1$ 号城市与 $2$ 号城市已连通。

当前只需要让 $3$ 号城市与 $1$ 号城市和 $2$ 号城市连通即可。

可以在 $1$ 号城市和 $3$ 号城市间修建一条道路，此时，$2$ 号城市与 $3$ 号城市也同时连通。

所以最少需要再修建 $1$ 条道路。

### 数据范围

$2≤N≤100,000$

$1≤M≤100,000$

$1≤A_i<B_i≤N$

不存在两条道路连接同一对城市的情况；

所有输入数据均为整数。



## C. 游荡的奶牛（cow）

### 问题描述

奶牛们在被划分成 $N$ 行 $M$ 列（$2 \leq N,M \leq 100$）的草地上游走， 试图找到整块草地中最美味的牧草。

Farmer John 在某个时刻看见贝茜在位置$(R_1, C_1)$，恰好 $T（0 \lt T \leq 15）$秒后，FJ 又在位置$(R_2, C_2)$与贝茜撞了正着。FJ 并不知道在这 $T$ 秒内贝茜是否曾经到过$(R_2, C_2)$，他能确定的只是，现在贝茜在那里。

设$S$为奶牛在$T$秒内从$(R_1, C_1)$走到$(R_2, C_2)$所能选择的路径总数，FJ 希望有 一个程序来帮他计算这个值。每一秒内，奶牛会水平或垂直地移动 $1$ 单位距离（奶牛总是在移动，不会在某秒内停在它上一秒所在的点）。草地上的某些地方有树，自然，奶牛不能走到树所在的位置，也不会走出草地。

现在你拿到了一张整块草地的地形图，其中`.`表示平坦的草地，`*`表示挡路的树。你的任务是计算出，一头在$T$秒内从$(R_1, C_1)$移动到$(R_2, C_2)$的奶牛可能经过的路径有哪些。

### 输入描述

第一行包含 $3$ 个用空格隔开的整数：$N,M,T$。

接下来$N$行：第$i$行为$M$个连续的字符，描述了草地第$i$行各点的情况，保证字符是`.`和`*`中的一个。

最后一行$4$个整数$R_1,C_1,R_2,C_2$。

### 输出描述

输出从 $(R_1, C_1)$ 移动到 $(R_2, C_2)$ 的方案数。

### 输入样例

```
4 5 6
...*.
...*.
.....
.....
1 3 1 5
```

### 输出样例

```
1
```

### 样例说明

奶牛在 $6$ 秒内从 $(1,3)$ 走到 $(1,5)$的方法只有一种，绕过她面前的树。







## D.理发（haircut）

### 问题描述

居家隔离期间， Farmer John 的头发长的实在太长了，他终于决定去理发。他有一排 $N（1≤N≤10^5）$ 缕头发，第 $i$ 缕头发初始时长度为 $A_i$ 微米 $（0≤A_i≤N）$。理想情况下，他想要他的头发在长度上单调递增，所以他定义他的头发的“不良度”为逆序对的数量：满足 $i<j$ 及 $A_i>A_j$ 的二元对 $(i,j)$。

对于每一个 $j=0,1,…,N−1$，FJ 想要知道他所有长度大于 $j$ 的头发的长度均减少到 $j$ 时他的头发的不良度。

（有趣的事实：人类平均确实有大约 $10^5$ 根头发！）

### 输入描述

输入的第一行包含 $N$。

第二行包含 $A_1,A_2,…,A_N$。

### 输出描述

对于每一个 $j=0,1,…,N−1$，用一行输出 FJ 头发的不良度。

注意这个问题涉及到的整数大小可能需要使用 $64$ 位整数型存储（例如，C/C++ 中的“long long”）。

### 输入样例

```
5
5 2 3 3 0
```

### 输出样例

```
0
4
4
5
7
```

### 样例说明：

输出的第四行描述了 FJ 的头发长度减少到 $3$ 时的逆序对数量。

$A=[3,2,3,3,0]$ 有五个逆序对：$A_1>A_2,A_1>A_5,A_2>A_5,A_3>A_5$, 和 $A_4>A_5$。

### 数据范围：

测试点 $2$ 满足 $N≤100$。

测试点 $3-5$ 满足 $N≤5000$。

测试点 $6-10$ 没有额外限制。

